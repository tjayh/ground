<h3 class="header smaller lighter blue">
<span>Breadcrumbs for</span>&nbsp;<span class = "red">{$bc_name}</span>
</h3>
<div class="widget-box hid" id = "widge">
    <div class="widget-header widget-header-blue widget-header-flat" style = "padding-right: 15px !Important;">
		<h4></h4>
		<div class="widget-toolbar widgeToolRemSpace" id = "widgetItemActions">
			<button id = "btnEditForm" class="btn btn-success radius6 btn-small">
				<i class="icon-pencil"></i>
				Edit
			</button>
			<button class="btn btn-small showGlobal radius6 btn-danger colorImportant " data-getDetails = "forDeleteFxn"">
				<i class="icon-trash"></i>
				Delete
			</button>
		</div>
		<div class="widget-toolbar widgeToolRemSpace">
			<button class="btn btn-small btn-info closeWidge radius6">
				<i class="icon-arrow-left"></i>
				Back
			</button>
		</div>
    </div>
    <div class="widget-body">
        <div class="widget-main">
            <div class="row-fluid">
				<form  id = "genericForm" class="form-horizontal">
					<div class="row-fluid position-relative">
						<div class="step-pane" id="step1">
							<div>
								<input type="hidden" id="bc_name" name = "data[bc_name]" value = "{$bc_name}"/>
								<input type="hidden" id="id_bc_{$bc_name}" name = "data[whr_id_bc_{$bc_name}]" value = ""/>
								<div class="control-group">
									<label class="control-label" for="form-field-1">Name</label>

									<div class="controls">
										<input type="text" class = "span6 fieldEditable" id="inputBcName" name = "data[clmn_name]" disabled = "disabled" required/>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="form-field-1">HTML ID</label>

									<div class="controls">
										<input type="text" class = "span6 fieldEditable"   disabled = "disabled"  id="inputBcHtmlId" name = "data[clmn_html_id]" />
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="form-field-1">Parent ID</label>
					
									<div class="controls">
										<input type="text" class = "span6" disabled id="bcParentName" name = ""/> 
										<input type="hidden" id="inputBcParent" name = "data[clmn_parent_id]" value = "0" required/> 
										{assign var="id_bc" value="id_bc_$bc_name"}
										{function name=menu}
											{foreach $data as $items}
												<li data-parentID = "{$items.$id_bc}" data-bcName = "{$items.name}">
													<a href = "javascript:;">{$items.name}</a>
													{if $items.children}
														<ul class = "dl-submenu">
														{menu data=$items.children}
														</ul>
													{/if}
												</li>
											{/foreach}
										{/function}
										<div class="column aceRmm" style = "z-index: 50;position: absolute;display: inline-block;margin-left: -20px; box-shadow:none !Important;">
											<div id = "bcChoose">
												<div id="dl-menu" class="dl-menuwrapper">
													<button class="dl-trigger">
														<i class="icon-align-justify"></i>
													</button>
													<ul class = "dl-menu">
														{menu data=$bc_tree}
													</ul>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="form-field-1">Module</label>

									<div class="controls">
										<input type="text" class = "span6 fieldEditable"   disabled = "disabled"  id="inputBcModule" name = "data[clmn_module]" />
									</div>
								</div>
								<div class="control-group">
									<label class="control-label" for="form-field-1">Method</label>

									<div class="controls">
										<input type="text" class = "span6 fieldEditable"   disabled = "disabled"  id="inputBcMethod" name = "data[clmn_method]" />
									</div>
								</div>
							</div>
						</div>
					</div>
					<hr />
					<div class="row-fluid center hid" id = "formActions">
						<a class="btn btn-prev btn-small closeWidge ignore">
							Cancel
						</a>
						<input type = 'reset' id = "resetForm" class = "hid"/>
						<button class="btn btn-success btn-next btn-small" data-last="Finish " id="submit">
							Submit
						</button>
						<img src = "img/loading_whitebg.gif" id = "sgLoading_whitebg" class ="hid loaderGif" style = "vertical-align:bottom !Important;"/>&nbsp;&nbsp;&nbsp;
						<img src = "img/3d_whitebg.gif" id = "sgLoader_whitebg" class ="hid loaderGif"/>
					</div>
				</form>
            </div>
        </div>
        <!--/widget-main-->
    </div>
    <!--/widget-body-->
</div>
<div class="row-fluid">
	<div class="widget-header">
		<div class="widget-toolbar tableHeader widgeToolRemSpace">&nbsp;
			<button id = "dtAddRow" class="btn radius6 btn-small btn-info showWidge">
				<i class="icon-plus"></i> Add Breadcrumb
			</button>
		</div>
	</div>
	<table aria-describedby="sample-table-2_info" id="DT_Generic" style ="display:none;" class="table table-striped table-bordered table-hover dataTable">
		<thead>
			<tr>
				<th class="bcName">Name</th>
				<th class="bcHtmlId">HTML ID</th>
				<th class="bcModule">Module</th>
				<th class="bcMethod">Method</th>
				<th class="bcActions"></th>
			</tr>
		</thead>
		
		<tbody>
			{$bullets=['icon-circle','icon-hand-right','icon-sign-blank','icon-circle-blank','icon-lemon','icon-sign-blank','icon-circle-arrow-right']}
			
			{function name=dtMenu padding=20 level=0}
				{foreach $data as $item}
					<tr>
				<td style = "padding-left:{$padding}px"> <i class = "{$bullets.$level}"></i>&nbsp;&nbsp;&nbsp;{$item.name}</td>
				<td>{$item.html_id}</td>
				<td>{$item.module}</td>
				<td>{$item.method}</td>
				<td class="td-actions" id = "jdata{$item.$id_bc}" data-var = "modules">
					<div class = "hid" id = "jd{$item.$id_bc}" >{$item.json}</div>
					<div class = "center" >
					<div class="hidden-phone visible-desktop action-buttons">
						<a href="javascript:;" class = "showWidge setFormValues btn btn-mini btn-yellow radius6" title="View">
							
								<i class="icon-zoom-in bigger-120"></i>
							
						</a>

						<a href="javascript:;" class = "showWidge setFormValues editItem btn btn-mini btn-success radius6" title="Edit">
							
								<i class="icon-pencil bigger-130"></i>
							
						</a>
						<a class = "showGlobal ignore btn btn-mini btn-danger radius6" data-getDetails = "forDeleteFxn" data-modID = "jdata{$item.$id_bc}" title="Delete">
						
						
								<i class="icon-trash bigger-130"></i>
							
						</a>
					</div>

					<div class="hidden-desktop visible-phone">
						<div class="inline position-relative">
							<button class="btn btn-minier btn-yellow dropdown-toggle" data-toggle="dropdown">
								<i class="icon-caret-down icon-only bigger-120"></i>
							</button>

							<ul class="dropdown-menu dropdown-icon-only dropdown-yellow pull-right dropdown-caret dropdown-close">
								<li>
									<a class="showWidge setFormValues tooltip-info ignore btn btn-mini btn-yellow radius6" data-rel="tooltip" title="View">
										
											<i class="icon-zoom-in bigger-120"></i>
										
									</a>
									
								</li>

								<li>
									<a class="showWidge setFormValues editItem tooltip-success ignore btn btn-mini btn-success radius6" data-rel="tooltip" title="Edit">
										
											<i class="icon-edit bigger-120"></i>
										
									</a>
								</li>

								<li>
									<a class="tooltip-error showGlobal ignore btn btn-mini btn-danger radius6" data-rel="tooltip" title="Delete" data-modID = "jdata{$item.$id_bc}" data-getDetails = "forDeleteFxn">
									
											<i class="icon-trash bigger-120"></i>
										
									</a>
								</li>
							</ul>
						</div>
					</div>
					</div>
				</td>		
						{if $item.children}
							{dtMenu data=$item.children padding=$padding+20 level = $level+1}
						{/if}
					</tr>
				{/foreach}
			{/function}
			{dtMenu data=$bc_tree}
		</tbody>
	</table>
	<span class = "hid" id = "forDeleteFxn" data-mtitle = "<span class = 'red'>Delete</span>" data-mbody = "Are you sure you want to delete this breadcrumb?" data-myes = "deleteRow();"></span>
</div>